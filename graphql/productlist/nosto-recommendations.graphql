query(
  $customerId: String!
  $category: String!
  $limit: Int!
  $preview: Boolean!
  $by: LookupParams!
  $skipPages: Int
  $filters: InputIncludeParams
  $excludeFilters: InputFilterParams
  $batchToken: String
) {
  session(id: $customerId, by: $by) {
    id
    recos(preview: $preview, image: VERSION_10_MAX_SQUARE) {
      category(
        category: $category
        minProducts: 1
        maxProducts: $limit
        skipPages: $skipPages
        include: $filters
        exclude: $excludeFilters
        skipVCEvent: true
        batchToken: $batchToken
      ) {
        primary {
          brand
          name
          productId
          alias: url
          canonicalUrl: url
          price
          images: imageUrl
          attributes {
            key
            value
          }
        }
        batchToken
        totalPrimaryCount
        resultId
      }
    }
  }
}
